/**
 * Jquery Inview 2
 * Version: 0.1
 * Author: Matthew Frey (mmmeff)
 * Minor Assisting Editor: Jake Stetser (wideopenspaces)
 *    - see https://github.com/wideopenspaces/jquery.inview2
 *    - forked from http://github.com/protonet/jquery.inview/
 *
 * Forked to ignore a strange edge case causing it to fire too early
 */
!function(a){function j(){var c=a();if(a.each(b,function(a,b){var d=b.data.selector,e=b.$element;c=c.add(d?e.find(d):e)}),c.length)for(var f=0;f<c.length;f++)if(c[f])if(a.contains(e,c[f])){var g=a(c[f]),j=g.data("inview"),k=g[0].getBoundingClientRect(),l=g.height(),m=g.width();(0!=k.top||0!=k.left)&&(k.top>=0-l+h&&k.left>=0-m+i&&k.bottom<=(d.innerHeight||e.clientHeight)+l-h&&k.right<=(d.innerWidth||e.clientWidth)+m-i?j||g.data("inview",!0).trigger("inview",[!0]):j&&g.data("inview",!1).trigger("inview",[!1]))}else delete c[f]}var g,b={},c=document,d=window,e=c.documentElement,f=a.expando,h=-300,i=0;a.event.special.inview={add:function(c){b[c.guid+"-"+this[f]]={data:c,$element:a(this)},g||a.isEmptyObject(b)||(g=setInterval(j,333))},remove:function(c){try{delete b[c.guid+"-"+this[f]]}catch(d){}a.isEmptyObject(b)&&(clearInterval(g),g=null)}}}(jQuery);
